# ドキュメント整合性監査チェックリスト

このチェックリストは、ドキュメントと実装の整合性を定期的に確認するためのものです。

## 📋 基本原則

**「ドキュメント = ソースコード」の同等性**
- ドキュメントの不正確性は、技術的バグと同じくらい深刻な問題
- 特定のコミット時点で実装と説明が完全一致している状態が理想
- 手順書通りに実行すれば必ず動作する状態を保つ

## 🔍 チェック項目

### 1. プロジェクト構成の整合性

- [ ] **README.mdのプロジェクト構成**
  - [ ] ディレクトリ構造が実際と一致している
  - [ ] ファイル名が実際と一致している
  - [ ] 各ディレクトリの説明が現在の用途と一致している
  - [ ] 新しく追加されたディレクトリが反映されている

- [ ] **docs/index.mdの索引**
  - [ ] 全てのMDファイルがリストアップされている
  - [ ] ファイルパスが正確である
  - [ ] 説明が各ドキュメントの内容と一致している
  - [ ] 削除されたファイルがリストから除外されている

### 2. 手順書の動作確認

- [ ] **CDK Bootstrap ガイド (docs/guides/cdk-bootstrap-guide.md)**
  - [ ] 記載されたコマンドを実際に実行して動作確認
  - [ ] 前提条件が現在の環境設定と一致している
  - [ ] 出力例が実際の出力と一致している

- [ ] **移行手順書 (docs/guides/migration-step-by-step.md)**
  - [ ] 各ステップのコマンドが実際に動作する
  - [ ] ファイルパスが現在の構成と一致している
  - [ ] 環境変数の説明が最新である

- [ ] **README.mdのクイックスタート**
  - [ ] セットアップコマンドが動作する
  - [ ] デプロイコマンドが動作する
  - [ ] 必要な環境変数が正確に記載されている

### 3. 技術仕様の整合性

- [ ] **仕様書 (docs/design/specification.md)**
  - [ ] アーキテクチャ図が実装と一致している
  - [ ] API仕様が実際の実装と一致している
  - [ ] 技術スタックが現在使用しているものと一致している

- [ ] **プロジェクト設計書 (docs/design/project-design.md)**
  - [ ] 設計思想が実際の実装方針と一致している
  - [ ] ディレクトリ設計が現在の構成と一致している

### 4. 運用手順の整合性

- [ ] **backup/README.md**
  - [ ] バックアップ手順が実際の運用と一致している
  - [ ] ファイル構成が実際のbackupディレクトリと一致している
  - [ ] セキュリティ注意事項が現在の方針と一致している

- [ ] **SSL証明書管理**
  - [ ] download-ssl-certs.shの使用方法が正確
  - [ ] 保存先パスが実際のスクリプトと一致している
  - [ ] 証明書ファイル名が実際のものと一致している

### 5. 環境設定の整合性

- [ ] **環境変数の説明**
  - [ ] README.mdの環境変数表が.envファイルと一致している
  - [ ] 必須・オプションの区分が正確である
  - [ ] デフォルト値が実際のスクリプトと一致している

- [ ] **コマンド一覧**
  - [ ] package.jsonのscriptsと一致している
  - [ ] scripts/ディレクトリ内のファイルと一致している
  - [ ] 各コマンドの説明が実際の動作と一致している

### 6. 時間依存情報の確認

- [ ] **SSL証明書情報**
  - [ ] 有効期限が現在の証明書と一致している
  - [ ] ドメイン名が現在設定されているものと一致している

- [ ] **開発履歴**
  - [ ] development-learnings.mdの日付が最新の学びを反映している
  - [ ] 古い情報で現在適用されないものがマークされている

## 📅 実施スケジュール

### 定期チェック
- **月次**: 全項目の基本チェック
- **四半期**: 詳細な動作確認を含む全項目チェック

### イベント発生時チェック
- **重要な機能追加後**: 関連するドキュメントの整合性確認
- **新しいチームメンバー参加時**: 手順書の動作確認
- **本番環境デプロイ前**: 運用関連ドキュメントの確認
- **環境変更時**: 設定関連ドキュメントの確認

## 🚨 乖離発見時の対応

### 即座に実施
1. **問題の記録**: どこでどんな乖離が発見されたかを記録
2. **影響範囲の確認**: 他にも同様の問題がないかチェック
3. **修正作業**: ドキュメントまたは実装を修正

### 根本原因分析
1. **なぜ乖離が発生したか？**: 更新忘れ、認識違い、プロセス不備等
2. **どうすれば防げたか？**: チェック項目追加、プロセス改善等
3. **予防策の実装**: 同じ問題の再発防止

## 💡 効率的なチェックのコツ

### クリーンシステムの利点を活用
- **構造が整理されている**: チェック対象が明確で漏れが少ない
- **分類が明確**: カテゴリ別に効率的にチェック可能
- **索引が完備**: docs/index.mdを基準にした体系的確認

### 自動化の検討
- **ディレクトリ構成の比較**: 実際の構成とREADMEの記述を自動比較
- **リンクの有効性**: docs内のリンクが正しく動作するかチェック
- **コマンドの動作確認**: 手順書のコマンドの自動実行テスト

---

**重要**: このチェックリスト自体も定期的に見直し、新しいドキュメントや変更された構成に対応して更新する。